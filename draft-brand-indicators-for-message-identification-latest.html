<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Brand Indicators for Message Identification (BIMI)</title>

  
<style type="text/css">/*<![CDATA[*/
@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}

@media screen and (min-width: 1024px) {
  ul.toc, #rfc\.toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 500px);
    width: 300px;
    padding: 0 1em;
    z-index: 1;
  }
  #rfc\.toc {
    top: 16px;
  }
  ul.toc {
    top: 80px;
    overflow: auto;
  }

  body {
    padding-left: 1.5em;
    padding-right: 29em;
  }
}

body {
  font: 15px "Helvetica Neue",Helvetica,Arial,sans-serif;
  color: #333;
  font-size-adjust: 0.5;
  line-height: 130%;
  margin: 2.5em auto;
  max-width: 724px;
}

.title, .filename, h1, h2, h3, h4 {
  font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size-adjust: 0.5;
  font-weight: 500;
  color: #333;
  line-height: 100%;
  margin: 0.8em 0 0.3em;
}
.title { font-size: 36px; }
h1 { font-size: 30px; }
h2 { font-size: 24px; }
h3, h4 { font-size: 18px; }
h1 a[href], h2 a[href], h3 a[href], h4 a[href] {
  color: #333;
}

ul.toc li {
  list-style: none;
  text-indent: -2.5em;
  padding-left: 2.5em;
  padding-bottom: 5px;
  margin: 0;
}
ul.toc ul {
  margin: 0;
}
/* xml2rfc nests ul directly inside ul which messes with the style badly */
ul.toc, ul.toc>ul, ul.toc ul>ul {
  margin: 0 0 0 1.5em;
}

table {
  margin-left: 0em;
  border-collapse: collapse;
}
th {
  text-align: left;
  border-bottom: 2px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
  vertical-align: top;
}
tr:nth-child(2n+1) > td,
tr:nth-child(2n+1) > th {
  background-color: #f9f9f9;
}
td.reference {
  max-width: 200px;
  border-top: none;
  padding-right: 1em;
}
.right {
  text-align: right;
}


table.header {
  width: 100%;
}
table.header td {
  border: none;
  background-color: transparent;
  color: black;
}
.filename {
  color: rgb(119, 119, 119);
  font-size: 23px;
  font-weight: normal;
  height: auto;
  line-height: 100%;
}
#rfc\.abstract+p {
  font-size: 20px;
  font-weight: 300;
  line-height: 130%;
}

samp, tt, code, pre {
  font: 11pt consolas, monospace;
  font-size-adjust: none;
}
pre {
  background-color: #eee;
  border: 1px solid #ddd;
  overflow-x: auto;
  padding: 5px;
  margin: 5px;
}
.figure {
  font-style: italic;
  margin: 0 1.5em;
}

address {
  margin: 10px 0 0;
}
.vcard {
  font-style: normal;
}
.vcardline {
  display: block;
}
.vcardline .fn {
  font-weight: bold;
}
.vcardline .hidden {
  display: none;
}

dl {
  margin-left: 1em;
}
dl.dl-horizontal: {
  margin-left: 0;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}

hr {
  border: 0;
  border-top: 1px solid #eee;
}

a {
  text-decoration: none;
}
a[href] {
  color: #2a6496;
}
a[href]:hover {
  background-color: #eee;
}

ol, ul, li, p {
  padding: 0;
  margin: 0.5em 0 0.5em 2em;
}
li, p {
  margin-left: 0;
}
address {
  font-style: normal;
}

.github-fork-ribbon-wrapper {
  display: none;
}
@media screen and (min-width: 800px) {
  /* "Fork me on GitHub" CSS ribbon based on
   * https://github.com/simonwhitaker/github-fork-ribbon-css
   */
  .github-fork-ribbon {
    position: absolute;
    padding: 2px 0;
    background-color: #a00;
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));
    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);
    font: 700 12px "Helvetica Neue", Helvetica, Arial, sans-serif;

    pointer-events: auto;

    top: 38px;
    right: -45px;

    transform: rotate(45deg);
  }

  .github-fork-ribbon a[href],
  .github-fork-ribbon a[href]:hover {
    color: #fff;
    background-color: transparent;
    text-decoration: none;
    text-shadow: 0 -1px rgba(0, 0, 0, 0.5);
    text-align: center;

    width: 190px;
    line-height: 18px;

    display: inline-block;
    padding: 2px 0;

    border: 1.5px dotted #fff;
    border-color: rgba(255, 255, 255, 0.6);
  }

  .github-fork-ribbon-wrapper {
    display: block;
    width: 130px;
    height: 130px;
    position: absolute;
    overflow: hidden;
    top: 0; right: 0;
    z-index: 2;
    pointer-events: none;
  }
}
@media screen and (min-width: 1000px) {
  .github-fork-ribbon-wrapper {
    position: fixed;
  }
/*]]>*/</style>


  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction"/>
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 The Need for Standardization"/>
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Outline"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Requirements"/>
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 High-Level Goals"/>
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Out of Scope"/>
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Scalability"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Terminology and Definitions"/>
<link href="#rfc.section.4" rel="Chapter" title="4 Overview"/>
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Selectors"/>
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Use of RFC5322.From"/>
<link href="#rfc.section.5" rel="Chapter" title="5 Policy"/>
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Assertion Record"/>
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 General Record Format"/>
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Formal Definition"/>
<link href="#rfc.section.5.4" rel="Chapter" title="5.4 Indicator Discovery"/>
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations"/>
<link href="#rfc.references" rel="Chapter" title="7 Normative References"/>
<link href="#rfc.authors" rel="Chapter"/>


  <meta name="generator" content="xml2rfc version 2.5.2 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Loder, T., Zink, T., and P. Goldstein" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-brand-indicators-for-message-identification-latest" />
  <meta name="dct.issued" scheme="ISO8601" content="2017-1-23" />
  <meta name="dct.abstract" content="Brand Indicators for Message Identification (BIMI) is a scalable mechanism by which mail-originating organizations and Mail User Agents (MUAs) can coordinate on displaying brand-specific indicators next to properly authenticated messages." />
  <meta name="description" content="Brand Indicators for Message Identification (BIMI) is a scalable mechanism by which mail-originating organizations and Mail User Agents (MUAs) can coordinate on displaying brand-specific indicators next to properly authenticated messages." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left">Authindicators Working Group</td>
  <td class="right">T. Loder</td>
</tr>
<tr>
  <td class="left">Internet-Draft</td>
  <td class="right">Agari</td>
</tr>
<tr>
  <td class="left">Intended status: Informational</td>
  <td class="right">T. Zink</td>
</tr>
<tr>
  <td class="left">Expires: July 27, 2017</td>
  <td class="right">Microsoft</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">P. Goldstein</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">ValiMail</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">January 23, 2017</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Brand Indicators for Message Identification (BIMI)<br />
  <span class="filename">draft-brand-indicators-for-message-identification-latest</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p>Brand Indicators for Message Identification (BIMI) is a scalable mechanism by which mail-originating organizations and Mail User Agents (MUAs) can coordinate on displaying brand-specific indicators next to properly authenticated messages.</p>
<p>To benefit their users, Mail User Agents need to be able to effectively and meaningfully convey that messages being displayed are both authenticated and originate from a known organization.  Brand-specific indicators are believed to be a more effective method of communicating message authenticity to end users.  Thus there is a need for MUAs to have access to brand-specific imagery for a very large number of brands.</p>
<p>Those brands have an interest in ensuring that the imagery displayed in these situations is correct and appropriate, so it is desirable to provide a mechanism to allow these mail-originating organizations to provide imagery to MUAs.  This mechanism removes the substantial burden of curating and maintaining an image database from the MUAs, and allows each brand to manage its own imagery.  As an additional benefit, mail-originating organizations are more likely to invest the time and effort to authenticate their email, should that come with the ability to influence how email from the organization is displayed.</p>
<p>By itself BIMI does not impose specific requirements for indicator display on MUAs.  BIMI is just a mechanism to support coordination between mail-originating organizations and MUAs.  MUAs and mail-receiving organizations are free to define their own policies for indicator display that makes use or not of BIMI data as they see fit.</p>
<h1 id="rfc.status">
  <a href="#rfc.status">Status of This Memo</a>
</h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on July 27, 2017.</p>
<h1 id="rfc.copyrightnotice">
  <a href="#rfc.copyrightnotice">Copyright Notice</a>
</h1>
<p>Copyright (c) 2017 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a></li>
<ul><li>1.1.   <a href="#rfc.section.1.1">The Need for Standardization</a></li>
<li>1.2.   <a href="#rfc.section.1.2">Outline</a></li>
</ul><li>2.   <a href="#rfc.section.2">Requirements</a></li>
<ul><li>2.1.   <a href="#rfc.section.2.1">High-Level Goals</a></li>
<li>2.2.   <a href="#rfc.section.2.2">Out of Scope</a></li>
<li>2.3.   <a href="#rfc.section.2.3">Scalability</a></li>
</ul><li>3.   <a href="#rfc.section.3">Terminology and Definitions</a></li>
<li>4.   <a href="#rfc.section.4">Overview</a></li>
<ul><li>4.1.   <a href="#rfc.section.4.1">Selectors</a></li>
<li>4.2.   <a href="#rfc.section.4.2">Use of RFC5322.From</a></li>
</ul><li>5.   <a href="#rfc.section.5">Policy</a></li>
<ul><li>5.1.   <a href="#rfc.section.5.1">Assertion Record</a></li>
<li>5.2.   <a href="#rfc.section.5.2">General Record Format</a></li>
<li>5.3.   <a href="#rfc.section.5.3">Formal Definition</a></li>
<li>5.4.   <a href="#rfc.section.5.4">Indicator Discovery</a></li>
</ul><li>6.   <a href="#rfc.section.6">Security Considerations</a></li>
<li>7.   <a href="#rfc.references">Normative References</a></li>
<li><a href="#rfc.authors">Authors' Addresses</a></li>


  </ul>

  <h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#problems" id="problems">Introduction</a></h1>
<p id="rfc.section.1.p.1">The Sender Policy Framework (<a href="#SPF">[SPF]</a>), DomainKeys Identified Mail (<a href="#DKIM">[DKIM]</a>), and Domain-based Message Authentication, Reporting, and Conformance (<a href="#DMARC">[DMARC]</a>) provide mechanisms for domain-level authentication for email messages.  They enable cooperating email senders and receivers to distinguish messages that are authorized to use the domain name from those that are not.  Given that not all senders employ these authentication mechanisms, it is desirable that Mail User Agents be able to indicate to their end users that particular messages are authenticated.</p>
<p id="rfc.section.1.p.2">It is currently possible for Mail User Agents to indicate the validity of messages authenticated via these mechanisms through the use of generic indicators - checkmarks and the like.  But there is a belief that the effectiveness of such generic indicators is limited, and that end users are better served through the use of brand indicators associated with the authenticated sender of the message.</p>
<h1 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a> <a href="#need" id="need">The Need for Standardization</a></h1>
<p id="rfc.section.1.1.p.1">Over time, some mail-receiving organizations have developed closed systems for displaying brand indicators for some select domains.  While this enabled these mail-receiving organizations to display brand indicators for a limited subset of messages, this closed approach has significant downsides.  Namely:</p>
<p/>

<ol>
  <li>It puts a significant burden on each mail-receiving organization, because they must identify and manage a large database of brand indicators.</li>
  <li>Scalability is challenging for closed systems that attempt to capture complete sets of data across the whole of the Internet.</li>
  <li>A lack of uniformity across different mail-receiving organizations - each organization will have its own indicator set, which may or may not agree with those maintained by other organizations for any given domain.</li>
  <li>Domain owners have limited ability to influence the brand indicator for the domain(s) they own, and such ability they do have is likely to require coordination with many mail-receiving organizations.</li>
  <li>MUAs that are not associated with a particular mail-receiving organization are likely to be disadvantaged, because they are unlikely</li>
</ol>
<p id="rfc.section.1.1.p.3">This all speaks to the need for a standardized mechanism by which Domain Owners can publish and distribute brand indicators for use by any participating MUA.</p>
<h1 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a> <a href="#outline" id="outline">Outline</a></h1>
<p id="rfc.section.1.2.p.1">This document defines Brand Indicators for Message Identification (BIMI), a mechanism by which Domain Owners can coordinate with mail-receiving organizations and Mail User Agents to express preferred brand indicators for display with a given message.</p>
<p id="rfc.section.1.2.p.2">The basic outline of BIMI is as follows:</p>
<p/>

<ol>
  <li>Domain Owners publish brand indicator assertions for domains via the DNS.</li>
  <li>Receivers authenticate the messages using <a href="#DMARC">[DMARC]</a> and/or whatever other authentication mechanisms they wish to apply.</li>
  <li>If the message authenticates, the receiver queries the DNS for a corresponding BIMI record.</li>
  <li>If a BIMI record is present, then the receiver adds a header to the message, which can be used by the Mail User Agent to determine the Domain Owner&#8217;s preferred brand indicator.</li>
  <li>The Mail User Agent retrieves and displays the brand indicator as appropriate based on its policy and user interface.</li>
</ol>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a href="#requirements" id="requirements">Requirements</a></h1>
<p id="rfc.section.2.p.1">Specification of BIMI in this document is guided by the following high-level goals, security dependencies, detailed requirements, and items that are documented as out of scope.</p>
<h1 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a> <a href="#goals" id="goals">High-Level Goals</a></h1>
<p id="rfc.section.2.1.p.1">BIMI has the following high-level goals:</p>
<p/>

<ul>
  <li>Enable the authors of Mail User Agents to display meaningful imagery associated with the author to recipients of authenticated email.</li>
  <li>Allow Domain Owners to suggest appropriate images for display with authenticated messages originating from their domains.</li>
  <li>Provide mechanisms to prevent attempts by malicious Domain Owners to fraudulently represent messages from their domains as originating with other entities.</li>
  <li>Work at Internet Scale</li>
</ul>
<h1 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a> <a href="#out-of-scope" id="out-of-scope">Out of Scope</a></h1>
<p id="rfc.section.2.2.p.1">Several topics and issues are specifically out of scope for the initial version of this work.  These include the following:</p>
<p/>

<ul>
  <li>Defining what consitutes authenticated email for the purposes of this standard</li>
  <li>Publishing policy other than via the DNS</li>
  <li>The explicit mechanisms used by Verifying Protocol Clients - this will be deferred to a later document.</li>
</ul>
<h1 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a> <a href="#scalability" id="scalability">Scalability</a></h1>
<p id="rfc.section.2.3.p.1">Scalability is a major issue for systems that need to operate in a system as widely deployed as current SMTP email.  For this reason, BIMI seeks to avoid the need for pre-sending agreements between senders and receivers.  This preserves the positive aspects of the current email infrastructure.</p>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#terminology" id="terminology">Terminology and Definitions</a></h1>
<p id="rfc.section.3.p.1">This section defines terms used in the rest of the document.</p>
<p id="rfc.section.3.p.2">The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this document are to be interpreted as described in <a href="#KEYWORDS">[KEYWORDS]</a>.</p>
<p id="rfc.section.3.p.3">Readers are encouraged to be familiar with the contents of <a href="#EMAIL-ARCH">[EMAIL-ARCH]</a>.  In particular, that document defines various roles in the messaging infrastructure that can appear the same or separate in various contexts.  For example, a Domain Owner could, via the messaging mechanisms on which BIMI is based, delegate control over defining preferred brand indicators as the Domain Owner to a third party with another role.  This document does not address the distinctions among such roles; the reader is encouraged to become familiar with that material before continuing.</p>
<p id="rfc.section.3.p.4">The following terms are also used:</p>
<p id="rfc.section.3.p.5">Author Domain:  The domain name of the apparent author, as extracted from the RFC5322.From field.</p>
<p id="rfc.section.3.p.6">Domain Owner:  An entity or organization that owns a DNS domain.  The term &#8220;owns&#8221; here indicates that the entity or organization being referenced holds the registration of that DNS domain.  Domain Owners range from complex, globally distributed organizations, to service providers working on behalf of non-technical clients, to individuals responsible for maintaining personal domains.  This specification uses this term as analogous to an Administrative Management Domain as defined in <a href="#EMAIL-ARCH">[EMAIL-ARCH]</a>.</p>
<p id="rfc.section.3.p.7">Mail Receiver:  The entity or organization that receives and processes email.  Mail Receivers operate one or more Internet-facing Mail Transport Agents (MTAs).</p>
<p id="rfc.section.3.p.8">Mark Asserting Entity (MAE): A Domain Owner who publishes information via the protocol to facilitate distribution of its graphical icons or marks in association with messages for which the domain they &#8220;own&#8221; is the Author Domain.</p>
<p id="rfc.section.3.p.9">Mark Verifying Authority (MVA): An entity of organization that can provide evidence of verification of marks asserted by an MAE to Verifying Protocol Clients.  The MVA may choose to uphold and confirm the meeting of certain mark standards (ie. size, trademark, content, etc).</p>
<p id="rfc.section.3.p.10">Protocol Client: An entity that uses the protocol to discover and fetch published icons or marks.</p>
<p id="rfc.section.3.p.11">Verifying Protocol Client: A Protocol Client that uses the optional verification capability to inquire about the verification status of published marks.</p>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#overview" id="overview">Overview</a></h1>
<p id="rfc.section.4.p.1">This section provides a general overview of the design and operation of the BIMI environment.</p>
<h1 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a> <a href="#selectors" id="selectors">Selectors</a></h1>
<p id="rfc.section.4.1.p.1">To support multiple brand indicators per domain, the brand indicator namespace is subdivided using &#8220;selectors&#8221;.  Selectors allow the domain owner to better target the brand indicator by type of recipient, message source, or other considerations like seasonal branding.</p>
<p id="rfc.section.4.1.p.2">Periods are allowed in selectors and are component separators.  When BIMI assertion records are retrieved from the DNS, periods in selectors define DNS label boundaries in a manner similar to the conventional use in domain names.  In a DNS implementation, this can be used to allow delegation of a portion of the selector namespace.</p>
<p><a href="#ABNF">[ABNF]</a>:</p>
<p id="rfc.section.4.1.p.4">selector =   sub-domain *( &#8220;.&#8221; sub-domain ) ; from <a href="#SMTP">[SMTP]</a> Domain, ; excluding address-literal</p>
<p id="rfc.section.4.1.p.5">The number of selectors for each domain is determined by the domain owner.  Many domain owners will be satisfied with just one selector, whereas organizations with more complex branding requirements can choose to manage disparate selectors.</p>
<p id="rfc.section.4.1.p.6">BIMI supports the notion of a &#8220;default&#8221; selector.</p>
<h1 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a> <a href="#rfc5322_from" id="rfc5322_from">Use of RFC5322.From</a></h1>
<h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> <a href="#policy" id="policy">Policy</a></h1>
<p id="rfc.section.5.p.1">BIMI policies are published by Domain Owners and applied by Protocol Clients.</p>
<p id="rfc.section.5.p.2">A Domain Owner advertises BIMI participation of one or more of its domains by adding a DNS TXT record to those domains.  In doing so, Domain Owners make specific requests of Mail User Agents regarding the preferred set of icons to be displayed with messages purporting to be from one of the Domain Owner&#8217;s domains.</p>
<p id="rfc.section.5.p.3">A Domain Owner may choose not to participate in BIMI.  In this case, the Domain Owner simply declines to advertise participation by not publishing a BIMI assertion record.</p>
<p id="rfc.section.5.p.4">A Mail User Agent implementing the BIMI mechanism SHOULD make a best-effort attempt to adhere to the Domain Owner&#8217;s published BIMI policy.  But Mail User Agents have final control over the user interface published to their end users, and MAY use alternate indicators than those specified in the BIMI assertion record or no indicator at all.</p>
<h1 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a> <a href="#assertion-record" id="assertion-record">Assertion Record</a></h1>
<p id="rfc.section.5.1.p.1">All Domain Owner BIMI preferences are stored as DNS TXT records in subdomains named &#8220;_bimi&#8221;.  BIMI allows the definition of multiple preferences associated with a single RFC5322.From domain.  To distinguish between these different preferences, BIMI uses selectors.</p>
<p id="rfc.section.5.1.p.2">For example, the Domain Owner of &#8220;example.com&#8221; would post BIMI preferences in a TXT record at &#8220;default._bimi.example.com&#8221;.  Similarly, a Mail Receiver wishing to query for BIMI preferences regarding mail with an RFC5322.From domain of &#8220;example.com&#8221; and a selector &#8220;default&#8221; would issue a TXT query to the DNS for the subdomain of &#8220;default._bimi.example.com&#8221;.  The DNS-located BIMI preference data will hereafter be called the &#8220;BIMI assertion record&#8221;.</p>
<p id="rfc.section.5.1.p.3">BIMI&#8217;s use of the Domain Name Service is driven by BIMI&#8217;s use of domain names and the nature of the query it performs. Use of the DNS as the query service has the benefit of reusing an extremely well-established operations, administration, and management infrastructure, rather than creating a new one.</p>
<p id="rfc.section.5.1.p.4">Per <a href="#DNS">[DNS]</a>, a TXT record can comprise several &#8220;character-string&#8221; objects.  Where this is the case, the module performing DMARC evaluation MUST concatenate these strings by joining together the objects in order and parsing the result as a single string.</p>
<h1 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a> <a href="#general-record-format" id="general-record-format">General Record Format</a></h1>
<p id="rfc.section.5.2.p.1">BIMI assertion records follow the extensible &#8220;tag-value&#8221; syntax for DNS-based key records defined in DKIM <a href="#DKIM">[DKIM]</a>.</p>
<p id="rfc.section.5.2.p.2">This section creates a registry for known BIMI tags and registers the initial set defined in this document.  Only tags defined in this document or in later extensions, and thus added to that registry, are to be processed; unknown tags MUST be ignored.</p>
<p id="rfc.section.5.2.p.3">The following tags are introduced as the initial valid BIMI tags:</p>
<p id="rfc.section.5.2.p.4">a: Trust Authorities (plain-text; OPTIONAL).  A reserved value.</p>
<p id="rfc.section.5.2.p.5">f: Supported Image Formats (comma-separated plain-text list of values; OPTIONAL; default is &#8220;png&#8221;).  Comma-separated list of three or four character filename extensions denoting the available file formats.  Supported raster formats are TIFF (tiff, tif), PNG (png), and JPEG (jpg, jpeg).  Supported vector formats are SVG (svg).</p>
<p id="rfc.section.5.2.p.6">l: locations (URI).  The value of this tag is a comma separated list of base URLs representing the location of the brand logo files.   All clients are expected to support use of at least 2 location URIs, used in order.  Clients may optionally attempt to use more.  Initially the supported transport supported is HTTPS only.</p>
<p id="rfc.section.5.2.p.7">v: Version (plain-text; REQUIRED).  Identifies the record retrieved as a BIMI record.  It MUST have the value of &#8220;BIMI1&#8221;.  The value of this tag MUST match precisely; if it does not or it is absent, the entire retrieved record MUST be ignored.  It MUST be the first tag in the list.</p>
<p id="rfc.section.5.2.p.8">z: List of supported image sizes  (comma-separated plain-text list of values; OPTIONAL).  A comma separated list of available image dimensions, written in the form &#8220;WxH&#8221;, with width W and height H specified in pixels.  Example: a image dimension listed as &#8220;512x512&#8221; implies a 1x1 aspect ratio image (square) of 512 pixels on a side.  The minimum size of any dimension is 32.  The maximum is 1024.  If the tag is missing or has an empty value, there is no default image dimension.  This lets a domain owner broadcast intent that no brand indicator should be used.</p>
<h1 id="rfc.section.5.3"><a href="#rfc.section.5.3">5.3.</a> <a href="#formal_defintion" id="formal_defintion">Formal Definition</a></h1>
<p id="rfc.section.5.3.p.1">The formal definition of the BIMI format, using <a href="#ABNF">[ABNF]</a>, is as follows:</p>
<p id="rfc.section.5.3.p.2">location-uri       = URI ; &#8220;URI&#8221; is imported from <a href="#URI">[URI]</a>; commas (ASCII ; 0x2C) MUST be encoded</p>
<p id="rfc.section.5.3.p.3">bimi-record    = bimi-version [bimi-sep bimi-formats] [bimi-sep bimi-locations] [bimi-sep bimi-image-sizes] [bimi-sep] ; components other than bimi-version ; may appear in any order</p>
<p id="rfc.section.5.3.p.4">bimi-version   = &#8220;v&#8221; *WSP &#8220;=&#8221; *WSP %x42 %x49 %x4d %x49 %x31</p>
<p id="rfc.section.5.3.p.5">bimi-sep       = *WSP %x3b *WSP</p>
<p id="rfc.section.5.3.p.6">bimi-size-list = bimi-size*( &#8220;,&#8221; bimi-size) [ &#8220;,&#8221; ] bimi-size      = bimi-dimension (&#8220;x&#8221; / &#8220;X&#8221;) bimi-dimension bimi-dimension = [FWS](2DIGIT / 3DIGIT / 4DIGIT)[FWS]</p>
<h1 id="rfc.section.5.4"><a href="#rfc.section.5.4">5.4.</a> <a href="#indicator_discovery" id="indicator_discovery">Indicator Discovery</a></h1>
<p id="rfc.section.5.4.p.1">As stated above, the BIMI mechanism uses DNS TXT records to advertise preferences.  Preference discovery is accomplished via a method similar to the method used for <a href="#DMARC">[DMARC]</a> records.  This method, and the important differences between BIMI and <a href="#DMARC">[DMARC]</a> mechanisms, are discussed below.</p>
<p id="rfc.section.5.4.p.2">To balance the conflicting requirements of supporting wildcarding, allowing subdomain policy overrides, and limiting DNS query load, Clients should employ the following lookup scheme for the appropriate BIMI record for the message:</p>
<p/>

<ol>
  <li>Start with the DNS domain found in the RFC5322.From header in the message.  Define this DNS domain as the Asserted Domain.</li>
  <li>If the message for which the indicator is being determined specifies a selector value, use this value for the selector.  Otherwise use the value &#8216;default&#8217; for the selector</li>
  <li>Clients MUST query the DNS for a BIMI TXT record at the DNS domain constructed by concatenating the selector, the string &#8216;_bimi&#8217;, and the Asserted Domain.  A possibly empty set of records is returned.</li>
  <li>Records that do not start with a &#8220;v=&#8221; tag that identifies the current version of BIMI are discarded.</li>
  <li>If the set is now empty, the Client MUST query the DNS for a BIMI TXT record at the DNS domain constructed by concatenating the selector, the string &#8216;_bimi&#8217;, and the Organizational Domain (as defined in <a href="#DMARC">[DMARC]</a>) corresponding to the Asserted Domain.  A possibly empty set of records is returned.</li>
  <li>Records that do not start with a &#8220;v=&#8221; tag that identifies the current version of BIMI are discarded.</li>
  <li>If the remaining set contains multiple records or no records, indicator discovery terminates and BIMI processing is not performed for this message.</li>
  <li>If the remaining set contains only a single record, this record is used for indicator discovery.</li>
</ol>
<h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> <a href="#security" id="security">Security Considerations</a></h1>
<h1 id="rfc.references"><a href="#rfc.references">7.</a> Normative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="ABNF">[ABNF]</b>
      </td>
      <td class="top"><a>Overell, Crocker,.</a>, "<a href="http://www.rfc-editor.org/info/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>", January 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="DKIM">[DKIM]</b>
      </td>
      <td class="top"><a>Kucherawy, Ed, Crocker,.</a>, "<a href="http://www.rfc-editor.org/info/rfc6376">DomainKeys Identified Mail (DKIM) Signatures</a>", September 2011.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="DMARC">[DMARC]</b>
      </td>
      <td class="top"><a>Zwicky, Ed, Kucherawy,.</a>, "<a href="http://www.rfc-editor.org/info/rfc7489">Domain-based Message Authentication, Reporting, and Conformance (DMARC)</a>", March 2015.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="DNS">[DNS]</b>
      </td>
      <td class="top"><a>Mockapetris, P, .</a>, "<a href="http://www.rfc-editor.org/info/rfc1035">Domain names - implementation and specification</a>", November 1987.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="EMAIL-ARCH">[EMAIL-ARCH]</b>
      </td>
      <td class="top"><a>Crocker, D, .</a>, "<a href="http://www.rfc-editor.org/info/rfc5598">Internet Mail Architecture</a>", July 2009.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="KEYWORDS">[KEYWORDS]</b>
      </td>
      <td class="top"><a>Bradner, S, .</a>, "<a href="http://www.rfc-editor.org/info/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", March 1997.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="SMTP">[SMTP]</b>
      </td>
      <td class="top"><a>Klensin, J, .</a>, "<a href="http://www.rfc-editor.org/info/rfc5321">Simple Mail Transfer Protocol</a>", October 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="SPF">[SPF]</b>
      </td>
      <td class="top"><a>Kitterman, S, .</a>, "<a href="http://www.rfc-editor.org/info/rfc7208">Sender Policy Framework (SPF) for Authorizing Use of Domains in Email, Version 1</a>", April 2014.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="URI">[URI]</b>
      </td>
      <td class="top"><a>Masinter, Berners-Lee,.</a>, "<a href="http://www.rfc-editor.org/info/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", January 2005.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Thede Loder</span> 
	  <span class="n hidden">
		<span class="family-name">Loder</span>
	  </span>
	</span>
	<span class="org vcardline">Agari</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tloder@agari.com">tloder@agari.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Terry Zink</span> 
	  <span class="n hidden">
		<span class="family-name">Zink</span>
	  </span>
	</span>
	<span class="org vcardline">Microsoft</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tzink@exchange.microsoft.com">tzink@exchange.microsoft.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Peter Goldstein</span> 
	  <span class="n hidden">
		<span class="family-name">Goldstein</span>
	  </span>
	</span>
	<span class="org vcardline">ValiMail</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:peter@valimail.com">peter@valimail.com</a></span>

  </address>
</div>

</body>
</html>
